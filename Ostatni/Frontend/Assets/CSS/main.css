:root{
  --bg:#f7f6f8;
  --text:#1e1b20;
  --muted:#6b6570;
  --brand:#4e1835; /* tmavě vínová */
  --brand-2:#6d2a4c; /* světlejší */
  --surface:#ffffff;
  --border:#e6e2e8;
  --success:#2e7d32;
  --error:#b00020;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
.no-scroll-x, body{overflow-x:hidden}
.container{max-width:1100px;margin:0 auto;padding:0 24px}

/* Navigace */
.site-header{position:sticky;top:0;z-index:10}
.inline{display:inline}
.header-actions{gap:12px}

/* Notifikace */
.notification-center{position:relative}
.notification-toggle{
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.3);
  color:#fff;
  padding:6px 12px;
  border-radius:999px;
  display:flex;
  align-items:center;
  gap:6px;
  font-size:0.9rem;
  cursor:pointer
}
.notification-toggle:hover{background:rgba(255,255,255,0.2)}
.notification-icon{font-size:1.1rem;line-height:1}
.notification-label{display:none}
.notification-badge{
  background:#ffb74d;
  color:#4e1835;
  font-weight:700;
  font-size:0.8rem;
  line-height:1;
  padding:2px 6px;
  border-radius:999px;
  min-width:20px;
  text-align:center
}
.notification-dropdown{
  position:absolute;
  right:0;
  top:calc(100% + 8px);
  width:360px;
  background:#fff;
  border:1px solid var(--border);
  border-radius:12px;
  box-shadow:0 12px 30px rgba(0,0,0,0.15);
  display:none;
  flex-direction:column;
  z-index:30
}
.notification-dropdown.is-open{display:flex}
.notification-dropdown__header,
.notification-dropdown__footer{
  padding:10px 14px;
  border-bottom:1px solid var(--border);
  font-size:0.9rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:var(--muted)
}
.notification-dropdown__footer{
  border-top:1px solid var(--border);
  border-bottom:none;
  justify-content:flex-start
}
.notification-dropdown__body{
  max-height:340px;
  overflow:auto
}
.notification-empty{
  padding:20px;
  text-align:center;
  color:var(--muted);
  font-size:0.9rem
}
.notification-table{
  width:100%;
  border-collapse:collapse;
  font-size:0.9rem
}
.notification-table tbody tr{
  border-bottom:1px solid var(--border)
}
.notification-table td{
  padding:10px 14px;
  vertical-align:top
}
.notification-table td:first-child{
  width:68px;
  color:var(--muted);
  font-size:0.8rem
}
.notification-message{margin:0;color:var(--text);font-weight:600}
.notification-meta{margin:2px 0 0;color:var(--muted);font-size:0.8rem}
.notification-row--unread{background:rgba(78,24,53,0.05)}

@media (max-width: 720px){
  .notification-dropdown{right:auto;left:0;width:100vw;max-width:360px}
}

/* Tlačítka */
.btn{background:var(--brand);border:none;color:#fff;padding:8px 16px;border-radius:8px;cursor:pointer;text-decoration:none;display:inline-block;font-weight:500;transition:all .2s ease;box-shadow:0 2px 4px rgba(78,24,53,.15)}
.btn:hover{background:var(--brand-2);box-shadow:0 4px 8px rgba(78,24,53,.2);transform:translateY(-1px)}
.btn:active{transform:translateY(0);box-shadow:0 1px 2px rgba(78,24,53,.15)}
.btn-small{font-size:.8rem;padding:4px 8px}
.btn-outline{background:transparent;border:1px solid var(--brand);color:var(--brand)}
.btn-outline:hover{background:var(--brand);color:#fff}

/* Hlavní obsah */
main.container{padding:28px 24px}
.hero{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:36px;margin:18px 0}
.hero h1{font-size:36px;margin:0 0 12px 0}
.section{margin:28px 0}
.section-title{background:var(--brand);color:#fff;padding:12px 16px;border-radius:8px 8px 0 0}
.section-body{background:var(--surface);border:1px solid var(--border);border-top:none;border-radius:0 0 12px 12px;padding:18px}
.list{margin:0;padding-left:20px}
.list li{margin:6px 0}

/* Karty článků */
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden;display:flex;flex-direction:column}
.card .thumb{background:linear-gradient(135deg,var(--brand),var(--brand-2));aspect-ratio:16/9}
.card .body{padding:14px}
.card h3{margin:0 0 8px;font-size:1.1rem}
.card p{margin:0 0 10px;color:var(--muted)}
.card .meta{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:.85rem}
.card .actions{padding:0 14px 14px;margin-top:auto}

/* Formuláře */
form:not(.inline){background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px}
label{display:block;margin:8px 0 4px}
input,textarea{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;background:#fff}
form .actions{margin-top:12px}

/* Alerty (pravý horní roh, auto fade) */
.alert{position:fixed;top:16px;right:16px;padding:12px 14px;border-radius:10px;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,.12);opacity:1;transition:opacity .6s ease,transform .6s ease;transform:translateY(0);z-index:1000}
.alert-success{background:var(--success)}
.alert-error{background:var(--error)}
.alert.hide{opacity:0;transform:translateY(-8px)}

/* Hvězdička pro required pole */
.req{color:var(--error);font-weight:700}

/* Patička */
.site-footer{border-top:1px solid var(--border);background:#faf9fb;color:var(--muted);padding:5px 0;margin-top:28px;font-size:.9rem}
.site-footer p{margin:0}
.footer-grid{display:grid;grid-template-columns:1.2fr auto;gap:8px;align-items:start}
.footer-title{font-weight:700;color:var(--text);margin-bottom:4px}
.footer-list{list-style:none;margin:0;padding:0}
.footer-list li{margin:2px 0}
.footer-list a{color:inherit;text-decoration:none}
.footer-list a:hover{text-decoration:underline}
.align-right{justify-self:end;align-self:center}

/* Feature karty (3 boxy jako na screenshotu) */
.features{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin:18px 0}
.feature-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:18px;display:flex;gap:12px;align-items:flex-start}
.feature-ico{width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand-2));flex:0 0 28px;display:inline-block}
.feature-title{margin:0 0 8px;font-weight:700}
.feature-text{margin:0 0 12px;color:var(--muted)}
.feature-link{color:var(--brand-2);text-decoration:none;font-weight:600}
.feature-link:hover{text-decoration:underline}

/* Chat page layout */
.chat-layout{display:grid;grid-template-columns:260px minmax(0,1fr) 320px;gap:18px}
.chat-column{border:1px solid var(--border);border-radius:12px;padding:16px;background:var(--surface);display:flex;flex-direction:column;min-height:400px;max-height:70vh}
.chat-left{gap:16px}
.chat-middle,.chat-right{overflow-y:auto}
.chat-filter label{font-size:.9rem;color:var(--muted)}
.chat-filter input,.chat-filter select{margin-bottom:8px}
.chat-user-list{display:flex;flex-direction:column;gap:8px;overflow-y:auto}
.chat-user{border:1px solid var(--border);border-radius:10px;padding:10px 12px;display:flex;justify-content:space-between;gap:6px;text-decoration:none;color:var(--text);background:var(--surface);position:relative;transition:all .2s ease}
.chat-user:hover{border-color:var(--brand-2);background:linear-gradient(135deg, rgba(78,24,53,.03), rgba(109,42,76,.03));box-shadow:0 2px 6px rgba(78,24,53,.08);transform:translateY(-1px)}
.chat-user.active{border-color:var(--brand);background:linear-gradient(135deg, rgba(78,24,53,.08), rgba(109,42,76,.08));box-shadow:0 0 0 2px rgba(78,24,53,.15), 0 2px 8px rgba(78,24,53,.12)}
.chat-user strong{color:var(--brand);font-weight:600}
.chat-user.active strong{color:var(--brand)}
.chat-user small{color:var(--muted);display:block;font-size:.85rem;margin-top:2px}
.chat-badge{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff;border-radius:999px;padding:4px 10px;font-size:.75rem;font-weight:600;align-self:flex-start;box-shadow:0 2px 4px rgba(78,24,53,.2);min-width:24px;text-align:center}
.chat-header{margin-bottom:10px}
.chat-header span{display:block;color:var(--muted);font-size:.9rem}
.chat-empty{color:var(--muted);margin:0}
.chat-messages{display:flex;flex-direction:column;gap:10px;padding-right:6px}
.chat-messages.scrollable{flex:1 1 auto;overflow-y:auto}
.chat-bubble{max-width:80%;padding:10px 12px;border-radius:12px;word-break:break-word}
.chat-bubble.me{align-self:flex-end;margin-left:auto;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff;border-bottom-right-radius:4px;box-shadow:0 4px 10px rgba(78,24,53,.15);text-align:right}
.chat-bubble.them{align-self:flex-start;margin-right:auto;background:#f5f1f6;color:var(--text);border-bottom-left-radius:4px;box-shadow:0 2px 6px rgba(78,24,53,.08);text-align:left}
.chat-bubble__meta{font-size:.75rem;margin-top:4px;color:rgba(255,255,255,.8)}
.chat-bubble.them .chat-bubble__meta{color:var(--muted)}
.chat-form textarea{min-height:80px;resize:vertical}

/* Oversight panel (redaktor) */
.oversight-panel{max-height:420px;overflow:auto}
.oversight-list{display:flex;flex-direction:column;gap:12px}
.oversight-item{border:1px solid var(--border);border-radius:12px;padding:12px 14px;background:#fff;box-shadow:0 2px 6px rgba(78,24,53,.05)}
.oversight-item__meta{display:flex;justify-content:space-between;font-size:.8rem;color:var(--muted);margin-bottom:6px}
.oversight-item__participants{display:flex;flex-wrap:wrap;gap:6px;font-size:.9rem;color:var(--muted);margin-bottom:6px}
.oversight-item__participants strong{color:var(--brand)}
.oversight-item__arrow{color:var(--muted);font-weight:700;margin:0 4px}
.oversight-item__message{font-size:.95rem;color:var(--text);background:#f9f7fa;border-radius:10px;padding:8px 10px;margin:0}

@media (max-width: 720px){
  .footer-grid{grid-template-columns:1fr;gap:8px}
  .align-right{justify-self:start}
  .features{grid-template-columns:1fr}
  .notification-label{display:inline}
  .chat-layout{grid-template-columns:1fr;grid-template-rows:auto}
  .chat-column{max-height:none}
  .team{grid-template-columns:1fr}
  .hero{padding:24px}
  .hero h1{font-size:28px}
  .article-hero{padding:16px}
  .article-title{font-size:1.5rem}
  .member-card{flex-direction:column;align-items:center;text-align:center}
  .member-body{width:100%;align-items:center}
}

@media (max-width: 768px){
  /* Responzivní tabulky - horizontální scroll */
  table{display:block;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;width:100%}
  table thead{display:table-header-group}
  table tbody{display:table-row-group}
  table tr{display:table-row}
  table td,table th{display:table-cell;white-space:nowrap;min-width:100px}
  /* Grid formuláře */
  .filter-form-grid{grid-template-columns:1fr !important}
  .filter-buttons{flex-direction:column}
  .filter-buttons a,.filter-buttons button{width:100%}
  /* Flexbox formuláře */
  form[style*="display:flex"]{flex-direction:column !important}
  form[style*="display:grid"]{grid-template-columns:1fr !important}
  /* Gridy s auto-fit */
  div[style*="grid-template-columns: repeat(auto-fit"]{grid-template-columns:1fr !important}
  div[style*="grid-template-columns:repeat(auto-fit"]{grid-template-columns:1fr !important}
  /* Select a input v formulářích */
  select[style*="min-width"]{min-width:100% !important;width:100% !important}
  /* Formuláře s flex-wrap */
  form[style*="flex-wrap"]{flex-direction:column !important}
  /* Meta informace */
  .article-meta{flex-wrap:wrap;gap:4px}
  .card .meta{flex-wrap:wrap;gap:4px}
}

@media (max-width: 400px){
  .container{padding:0 12px}
  main.container{padding:20px 12px}
  .section{margin:16px 0}
  .section-body{padding:12px}
  .cards{grid-template-columns:1fr;gap:12px}
  .hero{padding:18px}
  .hero h1{font-size:24px}
  .section-title{font-size:1.1rem;padding:10px 12px}
  .btn{width:100%;text-align:center}
  .header-actions{flex-direction:column;width:100%;gap:8px}
  .header-actions .btn{width:100%}
}

/* Článek */
.article-hero{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px;margin:18px 0}
.article-kicker{color:#fff;background:var(--brand);display:inline-block;padding:4px 8px;border-radius:6px;font-size:.85rem;margin-bottom:8px}
.article-title{margin:6px 0 8px}
.article-perex{color:var(--muted);margin:0 0 8px}
.article-meta{color:var(--muted);display:flex;gap:8px;align-items:center}
.article-body{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px}
.article-footer{display:flex;justify-content:flex-end;margin-top:12px;flex-wrap:wrap;gap:8px}

/* Jednoduchá typografie pro obsah */
.prose h2{margin-top:14px;margin-bottom:8px}
.prose h3{margin-top:12px;margin-bottom:6px}
.prose p{margin:8px 0}
.prose ul{padding-left:20px;margin:8px 0}
.prose ol{padding-left:20px;margin:8px 0}
.prose blockquote{margin:8px 0;padding:8px 12px;border-left:4px solid var(--brand-2);background:#fcfbfd;border-radius:8px}

/* Tým / Redakční rada */
.team{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
.member-card{display:flex;gap:12px;border:1px solid var(--border);background:var(--surface);border-radius:12px;padding:14px;align-items:flex-start}
/* Avatar podporuje vložené <img>; pokud není, použije se gradientní výplň */
.avatar{width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand-2));overflow:hidden;flex:0 0 64px}
.avatar img{width:100%;height:100%;object-fit:cover;display:block;border-radius:50%}
.member-body{display:flex;flex-direction:column}
.member-name{margin:0 0 4px}
.member-role{color:var(--muted);font-size:.9rem;margin-bottom:6px}
.member-bio{margin:0 0 8px;color:var(--muted)}
.member-body .feature-link{margin-top:auto}

.author-head{display:flex;gap:12px;align-items:center}

/* Responzivní utility třídy */
@media (max-width: 768px){
  .d-flex{flex-direction:column !important}
  .d-flex.gap-3{gap:12px !important}
  .header-actions{flex-direction:column;width:100%}
  .header-actions > *{width:100%}
  .navbar-nav{flex-direction:column}
  .navbar-nav .nav-link{padding:8px 0}
  /* Obrázky v článcích */
  img{max-width:100%;height:auto}
  /* Formuláře */
  form .actions{flex-direction:column}
  form .actions .btn{width:100%}
  /* Flexbox s gap */
  div[style*="display:flex"][style*="gap"]{flex-wrap:wrap}
  /* Gridy s více sloupci */
  div[style*="grid-template-columns: repeat"]{grid-template-columns:1fr !important}
}

@media (max-width: 400px){
  input[type="text"],input[type="email"],input[type="password"],textarea,select{font-size:16px}
  .btn{font-size:14px;padding:10px 16px}
  h1{font-size:1.5rem}
  h2{font-size:1.3rem}
  h3{font-size:1.1rem}
  h5{font-size:1rem}
}

